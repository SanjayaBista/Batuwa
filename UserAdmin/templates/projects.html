{% extends 'base_admin.html '%}
{% load static %}

{% block title %}
Projects
{% endblock %}

{% block content %}

			<!-- Page Wrapper -->
            <div class="page-wrapper">
                <div class="content container-fluid">
				
					<!-- Page Header -->
					<div class="page-header">
						<div class="row align-items-center">
							<div class="col">
								<h3 class="page-title">Projects</h3>
								<ul class="breadcrumb">
									<li class="breadcrumb-item"><a href="index.html">Home</a></li>
									<li class="breadcrumb-item active">Projects</li>
								</ul>
							</div>
							<div class="col-auto">
								<a class="btn filter-btn" href="javascript:void(0);" id="filter_search">
									<i class="fas fa-filter"></i>
								</a>
							</div>
						</div>
					</div>
					<!-- /Page Header -->

					<!-- Search Filter -->
					<div class="card filter-card" id="filter_inputs">
						<div class="card-body pb-0">
							<form action="#" method="post">
								<div class="row filter-row">
									<div class="col-sm-6 col-md-3">
										<div class="form-group">
											<label>Company Name</label>
											<input class="form-control" type="text">
										</div>
									</div>
									<div class="col-sm-6 col-md-3">
										<div class="form-group">
											<label>From Date</label>
											<div class="cal-icon">
												<input class="form-control datetimepicker" type="text">
											</div>
										</div>
									</div>
									<div class="col-sm-6 col-md-3">
										<div class="form-group">
											<label>To Date</label>
											<div class="cal-icon">
												<input class="form-control datetimepicker" type="text">
											</div>
										</div>
									</div>
									<div class="col-sm-6 col-md-3">
										<div class="form-group">
											<button class="btn btn-primary btn-block" type="submit">Submit</button>
										</div>
									</div>
								</div>
							</form>
						</div>
					</div>
					<!-- /Search Filter -->

					<div class="card bg-white projects-card">
						<div class="card-body pt-0">
							<div class="card-header">
								<h5 class="card-title">Projects views</h5>
							</div>
							<div class="reviews-menu-links">
								<ul role="tablist" class="nav nav-pills card-header-pills nav-justified">
									<li class="nav-item">
										<a href="#tab-4" data-bs-toggle="tab" class="nav-link active">All ({{ count_proj }})</a>
									</li>
									<li class="nav-item">
										<a href="#tab-5" data-bs-toggle="tab" class="nav-link">Active ({{ count_active }})</a>
									</li>
									<li class="nav-item">
										<a href="#tab-6" data-bs-toggle="tab" class="nav-link"> In Active ({{ count_inactive }})
										</a>
									</li>
									<li class="nav-item">
										<a href="#tab-7" data-bs-toggle="tab" class="nav-link">Trash ({{ count_trash }})</a>
									</li>
								</ul>
							</div>
							<div class="tab-content pt-0">
								<div role="tabpanel" id="tab-4" class="tab-pane fade active show">
									<div class="table-responsive">
										<table class="table table-center table-hover mb-0 datatable">
											<thead>
												
												<tr>
													<th></th>
													<th>Logo</th>
													<th>Title</th>	
													<th>Budget</th>	
													<th>Progress</th>	
													<th>Technology</th>	
													<th>Company</th>	
													<th>Start date</th>	
													<th>Due date</th>	
													<th class="text-end">Actions</th>
												</tr>
											</thead>
											<tbody>
												<tr>
													{% for proj in all_proj %}
													<td>
														<div class="form-check form-checkbox">
														  <input type="checkbox" class="form-check-input" id="customCheck1">
														  <label class="form-check-label" for="customCheck1"></label>
														</div>
													</td>
													<td>
														<h2 class="table-avatar">
															<a href="profile.html"><img class="me-2" src="{% static 'assets/img/company/img-1.png'%}" alt="User Image"></a>
														</h2>
													</td>
													
													<td>{{ proj.title }}</td>
													<td>
														${{ proj.price }}
													</td>
													<td>
														<div class="progress rounded-pill">
														  <div class="progress-bar bg-primary rounded-pill" role="progressbar" style="width: 25%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
														</div>
													</td>
													<td>
														{{ proj.technology }}
													</td>
													<td>{{ proj.company }}</td>
													<td>{{ proj.start_date }}</td>
													<td>{{ proj.end_date }}</td>
													<td class="text-end">
														<a href="javascript:void(0);-{{forloop.counter}}" class="btn btn-sm btn-secondary me-2" data-bs-toggle="modal" data-bs-target="#add-category-{{ proj.id }}"><i class="far fa-edit"></i></a> 
														<a href="javascript:void(0);-{{forloop.counter}}" class="btn btn-sm btn-danger" data-bs-toggle="modal" data-bs-target="#delete_category-{{ proj.id }}"><i class="far fa-trash-alt"></i></a>
													</td>
												</tr>
												{% endfor %}
												
											</tbody>
										</table>
									</div>
								</div>


								<div role="tabpanel" id="tab-5" class="tab-pane fade">
									<div class="table-responsive">
										<table class="table table-center table-hover mb-0 datatable">
											<thead>
												<tr>
													<th></th>
													<th>Logo</th>
													<th>Title</th>	
													<th>Budget</th>	
													<th>Progress</th>	
													<th>Technology</th>	
													<th>Company</th>	
													<th>Start date</th>	
													<th>Due date</th>	
													<th class="text-end">Actions</th>
												</tr>
											</thead>
											<tbody>
												{% for proj in active_proj %}
												<tr>
													<td>
														<div class="form-check form-checkbox">
														  <input type="checkbox" class="form-check-input" id="customCheck11">
														  <label class="form-check-label" for="customCheck11"></label>
														</div>
													</td>
													<td>
														<h2 class="table-avatar">
															<a href="profile.html"><img class="me-2" src="{% static 'assets/img/company/img-5.png'%}" alt="User Image"></a>
														</h2>
													</td>													
													<td>{{ proj.title }}</td>
													<td>
														${{ proj.price }}
													</td>
													<td>
														<div class="progress rounded-pill">
														  <div class="progress-bar bg-primary rounded-pill" role="progressbar" style="width: 25%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
														</div>
													</td>
													<td>
														{{ proj.technology }}
													</td>
													<td>{{ proj.company }}</td>
													<td>{{ proj.start_date }}</td>
													<td>{{ proj.end_date }}</td>
													<td class="text-end">
														<a href="javascript:void(0);" class="btn btn-sm btn-secondary me-2" data-bs-toggle="modal" data-bs-target="#add-category-{{ proj.id }}"><i class="far fa-edit"></i></a> 
														<a href="javascript:void(0);" class="btn btn-sm btn-danger" data-bs-toggle="modal" data-bs-target="#delete_category-{{ proj.id }}"><i class="far fa-trash-alt"></i></a>
													</td>
												</tr>
												{% endfor %}
											</tbody>
										</table>
									</div>
								</div>
								<div role="tabpanel" id="tab-6" class="tab-pane fade">
									<div class="table-responsive">
										<table class="table table-center table-hover mb-0 datatable">
											<thead>
												<tr>
													<th></th>
													<th>Logo</th>
													<th>Title</th>	
													<th>Budget</th>	
													<th>Progress</th>	
													<th>Technology</th>	
													<th>Company</th>	
													<th>Start date</th>	
													<th>Due date</th>	
													<th class="text-end">Actions</th>
												</tr>
											</thead>
											<tbody>
												{% for proj in inactive_proj %}
												<tr>
													<td>
														<div class="form-check form-checkbox">
														  <input type="checkbox" class="form-check-input" id="customCheck21">
														  <label class="form-check-label" for="customCheck21"></label>
														</div>
													</td>
													<td>
														<h2 class="table-avatar">
															<a href="profile.html"><img class="me-2" src="{% static 'assets/img/company/img-7.png' %}" alt="User Image"></a>
														</h2>
													</td>
													
													<td>{{ proj.title }}</td>
													<td>
														${{ proj.price }}
													</td>
													<td>
														<div class="progress rounded-pill">
														  <div class="progress-bar bg-primary rounded-pill" role="progressbar" style="width: 25%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
														</div>
													</td>
													<td>
														{{ proj.technology }}
													</td>
													<td>{{ proj.company }}</td>
													<td>{{ proj.start_date }}</td>
													<td>{{ proj.end_date }}</td>
													<td class="text-end">
														<a href="javascript:void(0);" class="btn btn-sm btn-secondary me-2" data-bs-toggle="modal" data-bs-target="#add-category-{{ proj.id }}"><i class="far fa-edit"></i></a> 
														<a href="javascript:void(0);" class="btn btn-sm btn-danger" data-bs-toggle="modal" data-bs-target="#delete_category-{{ proj.id }}"><i class="far fa-trash-alt"></i></a>
													</td>
												</tr>
													{% endfor %}			
											</tbody>
										</table>
									</div>
								</div>
								<div role="tabpanel" id="tab-7" class="tab-pane fade">
									<div class="table-responsive">
										<table class="table table-center table-hover mb-0 datatable">
											<thead>
												<tr>
													<th></th>
													<th>Logo</th>
													<th>Title</th>	
													<th>Budget</th>	
													<th>Progress</th>	
													<th>Technology</th>	
													<th>Company</th>	
													<th>Start date</th>	
													<th>Due date</th>	
													<th class="text-end">Actions</th>
												</tr>
											</thead>
											<tbody>
												{% for proj in trash_proj %}
												<tr>
													<td>
														<div class="form-check form-checkbox">
														  <input type="checkbox" class="form-check-input" id="customCheck21">
														  <label class="form-check-label" for="customCheck21"></label>
														</div>
													</td>
													<td>
														<h2 class="table-avatar">
															<a href="profile.html"><img class="me-2" src="{% static 'assets/img/company/img-7.png' %}" alt="User Image"></a>
														</h2>
													</td>
													
													<td>{{ proj.title }}</td>
													<td>
														${{ proj.price }}
													</td>
													<td>
														<div class="progress rounded-pill">
														  <div class="progress-bar bg-primary rounded-pill" role="progressbar" style="width: 25%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
														</div>
													</td>
													<td>
														{{ proj.technology }}
													</td>
													<td>{{ proj.company }}</td>
													<td>{{ proj.start_date }}</td>
													<td>{{ proj.end_date }}</td>
													<td class="text-end">
														<a href="javascript:void(0);" class="btn btn-sm btn-secondary me-2" data-bs-toggle="modal" data-bs-target="#add-category-{{ proj.id }}"><i class="far fa-edit"></i></a> 
														<a href="javascript:void(0);" class="btn btn-sm btn-danger" data-bs-toggle="modal" data-bs-target="#delete_category-{{ proj.id }}"><i class="far fa-trash-alt"></i></a>
													</td>
												</tr>
													{% endfor %}			
											</tbody>
										</table>
									</div>
								</div>
							</div>
						</div>
					</div>
								
			</div>
			<!-- /Page Wrapper -->
		</div>
        </div>
		<!-- /Main Wrapper -->
		
		<!-- Category Modal -->
		{% for proj in all_proj %}
		<div class="modal fade custom-modal" id="add-category-{{ proj.id }}">
			<div class="modal-dialog modal-dialog-centered">
				<div class="modal-content">

				<div class="modal-header">
					<h4 class="modal-title">Projects</h4>
					<button type="button" class="close" data-bs-dismiss="modal"><span>&times;</span></button>
				</div>
				
				<div class="modal-body">
					
					<form action='{% url 'UserAdmin:update_project' proj.id %}' method='POST'>
						{% csrf_token %}
						<div class="form-group">
							<label>Title</label>
							<input type="text" class="form-control" name="title" value="{{ proj.title }}">
						</div>
						<div class="form-group">
							<label>Budget</label>
							<input type="text" class="form-control" name="price" value=" {{ proj.price }} ">
						</div>	
						<div class="form-group">
							<label>Technology</label>
							<input type="text" class="form-control" name="technology" value="{{ proj.technology }}">
						</div>		
						<div class="form-group">
							<label>Company</label>
							<input type="text" class="form-control" name="company" value="{{ proj.company }}">
						</div>
						<div class="form-group">
							<label>From Date</label>
							<div class="cal-icon">
								<input class="form-control " name="start_date" type="text"  value="{{ proj.start_date }}">
							</div>
						</div>
						<div class="form-group">
							<label>To Date</label>
							<div class="cal-icon">
								<input class="form-control " name="end_date" type="text"  value="{{ proj.end_date}}">
							</div>
						</div>	
						<div class="form-group">
							<label>Project Status: {{ proj.project_status}}</label>
                                <div class="form-group mb-0">
									
									<select name="project_status"  class='form-group'>
									
										<option  value="Active">Active</option>
										{% if project.project_status == "Inactive" %}
										<option value="Inactive" selected>Inactive</option>
										{% else %}
										<option  value="Inactive">Inactive</option>
										{% endif %}
										{% if project.project_status == "Trash" %}
										<option  value="Trash" selected>Trash</option>
										{% else %}
										<option  value="Trash" >Trash</option>
										{% endif %}
										
										
									  </select>
                                </div>
                            </div>					
                     		
						<div class="mt-4">
							<button type="submit" class="btn btn-primary btn-block">Submit</button>
						</div>
					</form>
					
				</div>
				
				</div>
			</div>
		</div>
		{% endfor %}
		<!-- Category Modal -->

		<!-- Delete Modal -->
		{% for proj in all_proj %}
		<div class="modal custom-modal fade" id="delete_category-{{ proj.id }}" role="dialog">
			<div class="modal-dialog modal-dialog-centered">
				<div class="modal-content">
					<div class="modal-body">
						<div class="form-header">
							<h3>Delete</h3>
							<p>Are you sure want to delete?</p>
						</div>
						<div class="modal-btn delete-action">
							<div class="row">
								<div class="col-6">
									<a href="{% url 'UserAdmin:delete_project' proj.id  %}" class="btn btn-primary continue-btn">Delete</a>
								</div>
								<div class="col-6">
									<a href="javascript:void(0);" data-bs-dismiss="modal" class="btn btn-primary cancel-btn">Cancel</a>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		{% endfor %}
		<!-- /Delete Modal -->

{% endblock %}